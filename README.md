# FindWebsiteRank

***Requirements***:
▪ Please showcase everything you know in .NET web application development
▪ Do this either as a .NET Core Webapi & SPA pair, or classic .NET MVC application
▪ Make use of this URL: https://www.google.co.uk/search?num=100&q=land+registry+search
▪ Scrape the website. Don't use 3rd party libraries or google API, we want to see how you structure your logic
▪ In the UI, you need to allow user to enter the search phrase and URL
▪ If you need to use any Database, please make sure to use SQL Express

**Tips:**
▪ Demonstrate OO Programming & clean separation of concern
▪ If you have used JS frameworks before and want go an extra mile in demonstrating your skills(eg,Vue.js,Angular,React,Typescript), feel free to use it in this project.
▪ If you have some extra time, feel free to add extra features, eg:
o Trends / history of where InfoTrack ranked on a daily / weekly basis
o Scrape other search engine
If you don't, it's completely fine. Better to get the basics right!

**Tools Used**

Visual Studio 2019 Visual Studio Code SQL Express .net core 3.1 Angular 8

**Project Structure**

Folder /CodingTest.WebApp contains solution and project files.

There are four projects in the solution.

1.  WebsiteRank.Data - Contains EF core db context to interact with SQL server DB and repository class for the user entity
2. WebsiteRank.Domain - Domain entities for EF
3. WebsiteRank.SearchService - Service for the business logic
4. WebsiteRank.Dto - Contains Dtos to transform objects between search service and repository.
5. WebsiteRank.SearchProvider  - Search provider implementation
	i.e. google, bing etc. 
	
6.  WebsiteRank.Web - Contains REST web api and Angular code. (Generated by Angular-Web api template from Visual Studio 2019)
7.  WebsiteRank.Tests - Unit tests 

**How to run the application?**

1.  Clone or download the code locally.
    
2.  Open solution file in Visual Studio 2019.
    
3.  Build the project.
    
4.  Update connection DB connection string pointing to your SQL server at location -
    
    WebsiteRank.Web-> appsettings.json
    
    _"ConnectionStrings": {
    "WebsiteRankDBConnection": "**Server=.\\SQLEXPRESS**;Database=WebsiteRankDB;Trusted_Connection=True;"
  }
    
5.  Open WebsiteRank.Web -> ClientApp folder in VS code.
    
6.  Run '_npm update_' command in VS Code terminal window to update dependencies.
    
7.  Run 'ng build' command in terminal window to make sure build is successful.
    
8.  Run the web project in Visual Studio. **Database will be created when application is running first time**.
    
9.  Login page should be appeared.
    

**How to use the application?**
There are two navigation menu options
1. Search - allows user to search and show result
2. Search trend - shows graphical history of most resent 30 searches
(Run SQL file FindWebsiteRank/MockSearchData.sql on database to add some mock data to view detail Line Chart)

There are currently two search providers configured.
1. Google 
2. Bing - not implemented and returns random result.


**How to add new search provider?**

1. Add new recored in databse table -> [WebsiteRankDB].[dbo].[SearchProviderType] 
2. Add new enum in WebsiteRank.SearchProvider.ProviderType
3. Add new implementation class in WebsiteRank.SearchProvider.Implementation

